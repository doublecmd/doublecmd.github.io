<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
  <head>
    <title>DC - Переменные в параметрах</title>
    <link rel="stylesheet" type="text/css" href="doublecmd.css">
    <link rel="shortcut icon" href="../../pixmaps/common/favicon.ico">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  </head>

  <body>
    <a name="topofpage"></a>
    <div class="header"><a href="index.html"><img src="../../pixmaps/common/dclogo2017.png" alt="Double Commander" height="48" width="374"></a>
      <div id="global-nav" class="nav"><a title="Домашняя страница Double Commander" href="https://doublecmd.sourceforge.io/" target="_blank">Домашняя страница</a> | <a title="Вики Double Commander" href="https://github.com/doublecmd/doublecmd/wiki" target="_blank">Вики</a></div>
    </div>
    <div class="footer"><div class="nav"><a title="Начало" href="index.html">Начало</a> | <a title="Предыдущая страница" href="toolbar.html">Пред.</a> | <a title="Следующая страница" href="cmds.html">След.</a></div></div>

    <div class="dchelpage">
      <div>
        <h1>2.12. Переменные в параметрах</h1>
      </div>

      <div>
        <h2>Содержание</h2>
        <dl>
          <dt>1. <a href="#quickpres">Краткий обзор</a></dt>
          <dt>2. <a href="#basicvar">Основные переменные</a></dt>
          <dt>3. <a href="#basicsuffix">Основные суффиксы переменных</a></dt>
          <dt>4. <a href="#numsuffix">Нумерованный суффикс</a></dt>
          <dt>5. <a href="#prefixpostfix">Указание префикса и постфикса для каждого файла</a></dt>
          <dt>6. <a href="#pathpanel">Путь панели</a></dt>
          <dt>7. <a href="#quotation">Использование кавычек</a></dt>
          <dt>8. <a href="#trailingdelim">Разделитель каталогов в конце пути</a></dt>
          <dt>9. <a href="#listoffiles">Список файлов</a></dt>
          <dt>10. <a href="#suffixforlist">Суффиксы для списка файлов</a></dt>
          <dt>11. <a href="#combsuffixlist">Комбинирование суффиксов для списка файлов</a></dt>
          <dt>12. <a href="#executeterm">Запуск в терминале</a></dt>
          <dt>13. <a href="#interaction">Взаимодействие</a></dt>
          <dt>14. <a href="#miscellaneous">Прочие переменные</a></dt>
          <dt>15. <a href="#summaryall">Сводная таблица со всеми переменными</a></dt>
          <dt>16. <a href="#envvariables">Переменные окружения</a></dt>
        </dl>
      </div>

      <div>
        <h2><a name="quickpres">1. Краткий обзор</a></h2>
        <p>Переменные будут помогать нам в создании <a href="toolbar.html">кнопок панели инструментов</a>, настройке действий <a href="configuration.html#ConfigAssociations">файловых ассоциаций</a> и <a href="configuration.html#ConfigHotKeys">горячих клавиш</a>.</p>
        <p>В основном мы будем использовать их, когда необходимо передать команде в качестве параметра выделенный файл(ы), каталог, в котором мы находимся, и другие подобных вещи, связанные с содержимым файловых панелей.</p>
        <p>Вот простой пример. Пользователь создал кнопку запуска IrfanView с переменной <code>%p</code>.</p>
        <p class="image"><img title="Пример переменной" alt="Пример переменной" src="images/imgDC/variablesample.png" width="574" height="201"></p>
        <p>Когда пользователь нажмёт эту кнопку, он запустит IrfanView, а переменную <code>%p</code> Double Commander заменит выбранным в активной панели файлом.</p>
        <p>Вот что понимается под <b>переменными</b>, описанными на этой странице.</p>
        <p>Как вы увидите далее, большинство из них начинаются со знака процента <code>%</code>.</p>
        <p>Примечание: Переменные и суффиксы регистрозависимые!</p>
        <p class="navback"><a href="#topofpage">(наверх)</a></p>
      </div>

      <div>
        <h2><a name="basicvar">2. Основные переменные</a></h2>
        <p>Это основные переменные, которые могут использоваться и которые связаны с текущим выбором.</p>
        <p>По умолчанию значения переменных, содержащие пробелы и/или специальные символы автоматически экранируются: значение будет взято в двойные кавычки (в Windows) или такие символы будут предваряться "\"(в Unix-подобных системах). Если вам не нужно такое поведение, смотрите секцию <a href="#quotation">Использование кавычек</a>.</p>
        <p><i>В качестве примера для каждой переменной мы используем файл C:\Users\UserName\Desktop\comment.png.</i></p>
        <table>
          <tr class="rowcategorytitle"><th colspan="2">Основные переменные</th></tr>
          <tr class="rowsubtitle"><th class="namecolumn">Переменная</th><th class="categorydesccolumn">Что обозначает</th></tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">%p</div></td>
            <td class="hintcell">Полное имя файла, путь + имя файла<br><code>Пример: %p = "C:\Users\UserName\Desktop\comment.png"</code></td>
          </tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">%f</div></td>
            <td class="hintcell">Только имя файла, включая расширение<br><code>Пример: %f = "comment.png"</code></td>
          </tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">%d</div></td>
            <td class="hintcell">Только путь, без разделителя каталогов в конце<br><code>Пример: %d = "C:\Users\UserName\Desktop"</code></td>
          </tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">%z</div></td>
            <td class="hintcell">Последняя папка в пути<br><code>Пример: %z = "Desktop"</code></td>
          </tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">%o</div></td>
            <td class="hintcell">Имя файла без расширения<br><code>Пример: %o = "comment"</code></td>
          </tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">%e</div></td>
            <td class="hintcell">Расширение без точки<br><code>Пример: %e = "png"</code></td>
          </tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">%v</div></td>
            <td class="hintcell">Имя файла с относительным к текущему каталогу путём.<br>Это сработает, если, например, вы вызвали внутреннюю команду <a href="cmds.html#cm_flatview">cm_FlatView</a>.<br>Если мы включили вид без подкаталогов в каталоге <code>"C:\Users\UserName"</code>, то <code>%v</code> будет равно <code>"Desktop\comment.png"</code></td>
          </tr>
        </table>
        <p>Для виртуальной файловой системы (открытый архив или плагин файловой системы) доступна переменная <code>%a</code>: строка включает в себя путь к виртуальной файловой системе (полное имя архива или имя WFX-плагина с "wfx://") и полное имя файла относительно корня виртуальной файловой системы.</p>
        <p>Если выделено несколько файлов, эти переменные вернут значения для всех выделенных файлов в одну строку. Чтобы в любом случае получить значение только для файла под курсором, мы можем использовать <a href="#numsuffix">нумерованный суффикс 0</a>.</p>
        <p class="navback"><a href="#topofpage">(наверх)</a></p>
      </div>

      <div>
        <h2><a name="basicsuffix">3. Основные суффиксы переменных</a></h2>
        <p>К упомянутым выше переменным из одной буквы мы можем добавить ещё одну букву, что позволит уточнить значение используемой переменной.</p>
        <p><i>Для каждого примера предполагаем следующее:<br>В левой панели курсор стоит на файле "C:\LeftFolder\File.lft"<br>В правой панели&nbsp;&ndash; на "C:\RightFolder\File.rgh"<br>Активна правая панель.</i></p>
        <table>
          <tr class="rowcategorytitle"><th colspan="2">Основные суффиксы</th></tr>
          <tr class="rowsubtitle"><th class="namecolumn">Суффикс</th><th class="categorydesccolumn">Что обозначает</th></tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">s</div></td>
            <td class="hintcell">Исходная или активная панель (независимо от того, левая или правая)<br><code>Пример: %ps = "C:\RightFolder\File.rgh"</code></td>
          </tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">t</div></td>
            <td class="hintcell">Целевая или неактивная панель (независимо от того, левая или правая)<br><code>Пример: %pt = "C:\LeftFolder\File.lft"</code></td>
          </tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">l</div></td>
            <td class="hintcell">Левая панель<br><code>Пример: %pl = "C:\LeftFolder\File.lft"</code></td>
          </tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">r</div></td>
            <td class="hintcell">Правая панель<br><code>Пример: %pr = "C:\RightFolder\File.rgh"</code></td>
          </tr>
          <tr>
            <td class="varcell">
              <div class="firstcolumnaleft">p</div></td>
            <td class="hintcell">Обе панели, сначала активная, затем пробел и далее неактивная<br><code>Пример: %pp = "C:\RightFolder\File.rgh" "C:\LeftFolder\File.lft"</code></td>
          </tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">b</div></td>
            <td class="hintcell">Обе панели, сначала левая, затем пробел и далее правая<br><code>Пример: %pb = "C:\LeftFolder\File.lft" "C:\RightFolder\File.rgh"</code></td>
          </tr>
        </table>
        <p class="navback"><a href="#topofpage">(наверх)</a></p>
      </div>

      <div>
        <h2><a name="numsuffix">4. Нумерованный суффикс</a></h2>
        <p>Если у нас много выделенных файлов, мы можем добавить суффикс к ранее упомянутым переменным, чтобы уточнить, какой из них хотим использовать.</p>
        <p><i>Для каждой строки таблицы предполагаем, что в активной панели открыт каталог "C:\temp\" и мы выделили двадцать шесть файлов с именем "FileA.txt", "FileB.txt" и т.д. до "FileZ.txt".</i></p>
        <table>
          <tr class="rowcategorytitle"><th colspan="2">Нумерованный суффикс</th></tr>
          <tr class="rowsubtitle"><th class="namecolumn">Суффикс</th><th class="categorydesccolumn">Что обозначает</th></tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">0</div></td>
            <td class="hintcell">Файл под курсором<br><code>Пример: %ps0 = "C:\temp\FileY.txt"</code></td>
          </tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">1</div></td>
            <td class="hintcell">Первый выделенный файл<br><code>Пример: %ps1 = "C:\temp\FileA.txt"</code></td>
          </tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">2</div></td>
            <td class="hintcell">Второй выделенный файл<br><code>Пример: %ps2 = "C:\temp\FileB.txt"</code></td>
          </tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">3</div></td>
            <td class="hintcell">Третий выделенный файл<br><code>Пример: %ps3 = "C:\temp\FileC.txt"</code></td>
          </tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">21</div></td>
            <td class="hintcell">Двадцать первый выделенный файл<br><code>Пример: %ps21 = "C:\temp\FileU.txt"</code></td>
          </tr>
        </table>
        <p class="navback"><a href="#topofpage">(наверх)</a></p>
      </div>

      <div>
        <h2><a name="prefixpostfix">5. Указание префикса и постфикса для каждого файла</a></h2>
        <p>Иногда в передаваемых исполняемому файлу параметрах необходимо что-то добавить перед именами файлов.</p>
        <p>В некоторых случаях нужно добавить что-то до и сразу после имён файлов.</p>
        <p>Обратите внимание, что описанное далее будет применяться к каждому выделенному файлу.</p>
        <p><i>Для каждой строки таблицы предполагаем, что в активной панели открыт каталог "C:\Windows\Fonts" и мы выделили три файла с именами "courrier.ttf", "fixedsys.ttf" и "terminal.ttf".</i></p>
        <table>
          <tr class="rowcategorytitle"><th colspan="2">Префикс и постфикс</th></tr>
          <tr class="rowsubtitle"><th class="namecolumn">Префикс и постфикс</th><th class="categorydesccolumn">Что обозначает</th></tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">{}</div></td>
            <td class="hintcell">Один набор фигурных скобок добавляет текст в фигурных скобках перед каждым выделенным файлом<br><code>Пример: %fs{+} = "+courrier.ttf" "+fixedsys.ttf" "+terminal.ttf"</code></td>
          </tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">{}{}</div></td>
            <td class="hintcell">Два набора фигурных скобок добавят текст в фигурных скобках соответственно до и после каждого выделенного файла<br><code>Пример: %fs{[}{]} = "[courrier.ttf]" "[fixedsys.ttf]" "[terminal.ttf]"</code></td>
          </tr>
        </table>
        <p class="navback"><a href="#topofpage">(наверх)</a></p>
      </div>

      <div>
        <h2><a name="pathpanel">6. Путь панели</a></h2>
        <p>Ранее мы разбирали переменные, связанные с выделенными файлами и папками.</p>
        <p>Но мы также можем использовать переменную <code>%D</code> для выбора каталога конкретной панели.</p>
        <p>Для выбора панели к этой переменной мы можем добавить букву из упомянутых выше <a href="#basicsuffix">основных суффиксов</a>.</p>
        <p><i>Для каждого примера предполагаем следующее:<br>В левой панели открыт каталог "C:\Reference"<br>В правой панели&nbsp;&ndash; "E:\Work"<br>Активна правая панель.</i></p>

        <table>
          <tr class="rowcategorytitle"><th colspan="2">Путь панели</th></tr>
          <tr class="rowsubtitle"><th class="namecolumn">Переменная</th><th class="categorydesccolumn">Что обозначает</th></tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">%D</div></td>
            <td class="hintcell">Одна, без суффикса, вернёт путь активной панели<br><code>Пример: "E:\Work"</code></td>
          </tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">%Ds</div></td>
            <td class="hintcell">Каталог исходной или активной панели (независимо от того, левая или правая)<br><code>Пример: "E:\Work"</code></td>
          </tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">%Dt</div></td>
            <td class="hintcell">Каталог целевой или неактивной панели (независимо от того, левая или правая)<br><code>Пример: "C:\Reference"</code></td>
          </tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">%Dl</div></td>
            <td class="hintcell">Каталог левой панели<br><code>Пример: "C:\Reference"</code></td>
          </tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">%Dr</div></td>
            <td class="hintcell">Каталог правой панели<br><code>Пример: "E:\Work"</code></td>
          </tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">%Z</div></td>
            <td class="hintcell">Одна, без суффикса, вернёт имя последней папки в пути активной панели<br><code>Пример: "Work"</code></td>
          </tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">%Zs</div></td>
            <td class="hintcell">Имя последней папки в пути активной панели (независимо от того, левая или правая)<br><code>Пример: "Work"</code></td>
          </tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">%Zt</div></td>
            <td class="hintcell">Имя последней папки в пути неактивной панели (независимо от того, левая или правая)<br><code>Пример: "Reference"</code></td>
          </tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">%Zl</div></td>
            <td class="hintcell">Имя последней папки в пути левой панели<br><code>Пример: "Reference"</code></td>
          </tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">%Zr</div></td>
            <td class="hintcell">Имя последней папки в пути правой панели<br><code>Пример: "Work"</code></td>
          </tr>
        </table>
        <p>Для виртуальной файловой системы (открытый архив или плагин файловой системы) доступна переменная <code>%A</code>: полное имя архива или имя WFX-плагина с "wfx://".</p>
        <p class="navback"><a href="#topofpage">(наверх)</a></p>
      </div>

      <div>
        <h2><a name="quotation">7. Использование кавычек</a></h2>
        <p>Как вы видели ранее, DC возвращает результат, автоматически расставляя двойные кавычки.</p>
        <p>Это было полезно, если в имени файла были пробелы и мы хотели передать его в качестве параметра, и чтобы все это работало.</p>
        <p>Но по мере добавления новых переменных стало очевидно, что нам нужен способ получить результат без кавычек. Типичный пример: мы хотим в командной строке объединить исходное имя файла, но только имя файла без расширения, с новым расширением.</p>
        <p>Вместо добавления новых переменных, которые возвращали бы то же самое, но без кавычек, мы можем использовать те же переменные, однако необходимо добавить в строке параметров <code>%"0</code>, чтобы заставить DC до конца строки не расставлять кавычки автоматически.</p>
        <p>У нас есть:</p>
        <dl>
          <dt><code>%"0</code> : начиная с этой позиции не брать имена файлов в кавычки</dt>
          <dt><code>%"1</code> : начиная с этой позиции автоматически брать имена в кавычки</dt>
          <dt><code>%" </code>&nbsp;: восстановить значение по умолчанию (автоматически расставлять кавычки)</dt>
        </dl>

        <p>Таблица ниже показывает примеры использования для файла с именем "Client List.mdb":</p>
        <table>
          <tr class="rowcategorytitle"><th colspan="2">Примеры использования кавычек</th></tr>
          <tr class="rowsubtitle"><th class="namecolumn">Выражение</th><th class="categorydesccolumn">Результат</th></tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">%o.zip</div></td>
            <td class="hintcell">"Client List".zip</td>
          </tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">%"0%o.zip</div></td>
            <td class="hintcell">Client List.zip</td>
          </tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">%"0"%o.zip"</div></td>
            <td class="hintcell">"Client List.zip"</td>
          </tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">%"0"%o.zip" %"1%f</div></td>
            <td class="hintcell">"Client List.zip" "Client List.mdb"</td>
          </tr>
        </table>
        <p class="navback"><a href="#topofpage">(наверх)</a></p>
      </div>

      <div>
        <h2><a name="trailingdelim">8. Разделитель каталогов в конце пути</a></h2>
        <p>Как вы видели ранее, DC возвращает путь без разделителя каталогов в конце.</p>
        <p>Такое поведение также может быть изменено с помощью переменной.</p>
        <p>У нас есть:</p>
        <dl>
          <dt><code>%/0</code> : путь будет возвращён без разделителя каталогов в конце</dt>
          <dt><code>%/1</code> : путь будет возвращён с разделителем каталогов в конце</dt>
          <dt><code>%/ </code>&nbsp;: восстановление значения по умолчанию (без разделителя каталогов в конце)</dt>
        </dl>

        <p>Следующая таблица показывает примеры использования для каталога "C:\Users\UserName\Desktop":</p>
        <table>
          <tr class="rowcategorytitle"><th colspan="2">Разделитель каталогов в конце пути</th></tr>
          <tr class="rowsubtitle"><th class="namecolumn">Выражение</th><th class="categorydesccolumn">Результат</th></tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">%D</div></td>
            <td class="hintcell">"C:\Users\UserName\Desktop"</td>
          </tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">%/0%D</div></td>
            <td class="hintcell">"C:\Users\UserName\Desktop"</td>
          </tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">%/1%D</div></td>
            <td class="hintcell">"C:\Users\UserName\Desktop\"</td>
          </tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">%/%D</div></td>
            <td class="hintcell">"C:\Users\UserName\Desktop"</td>
          </tr>
        </table>
        <p class="navback"><a href="#topofpage">(наверх)</a></p>
      </div>

      <div>
        <h2><a name="listoffiles">9. Список файлов</a></h2>
        <p>Некоторые приложения в качестве параметра могут принимать текстовый файл со списком имён файлов.</p>
        <p>Double Commander предлагает нам переменные, которые создадут временный текстовый файл (в системном каталоге для временных файлов) со списком выделенных файлов и папок.</p>
        <table>
          <tr class="rowcategorytitle"><th colspan="2">Список файлов</th></tr>
          <tr class="rowsubtitle"><th class="namecolumn">Выражение</th><th class="categorydesccolumn">Описание</th></tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">%L</div></td>
            <td class="hintcell">Файл со списком полных имён выделенных файлов (путь + имя файла)</td>
          </tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">%F</div></td>
            <td class="hintcell">Файл со списком только имён выделенных файлов, без пути</td>
          </tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">%R</div></td>
            <td class="hintcell">Файл со списком имён выделенных файлов с относительным путём</td>
          </tr>
        </table>
        <p>Double Commander будет использовать системную кодировку ANSI в Windows или системную кодировку по умолчанию в Unix-подобных системах (в дистрибутивах GNU/Linux это обычно UTF-8).</p>
        <p>При закрытии Double Commander удаляет все такие временные файлы.</p>
        <p class="navback"><a href="#topofpage">(наверх)</a></p>
      </div>

      <div>
        <h2><a name="suffixforlist">10. Суффиксы для списка файлов</a></h2>
        <p>По умолчанию имена файлов в списке не берутся в кавычки, но если это необходимо, они могут быть добавлены.</p>
        <p>Кроме того, есть возможность выбрать для списка файлов кодировку UTF-8 или UTF-16 LE.</p>
        <table>
          <tr class="rowcategorytitle"><th colspan="2">Суффиксы для списка файлов</th></tr>
          <tr class="rowsubtitle"><th class="namecolumn">Выражение</th><th class="categorydesccolumn">Описание</th></tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">Q</div></td>
            <td class="hintcell">Имена файлов в списке будут заключены в кавычки</td>
          </tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">U</div></td>
            <td class="hintcell">Список в кодировке UTF-8</td>
          </tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">W</div></td>
            <td class="hintcell">Список в кодировке UTF-16 LE</td>
          </tr>
        </table>
        <p class="navback"><a href="#topofpage">(наверх)</a></p>
      </div>

      <div>
        <h2><a name="combsuffixlist">11. Комбинирование суффиксов для списка файлов</a></h2>
        <p>Вы также можете добавить ещё один суффикс, чтобы указать панель для получения списка файлов.</p>
        <p>Возможные примеры:</p>
        <table>
          <tr class="rowcategorytitle"><th colspan="2">Комбинирование суффиксов для списка файлов</th></tr>
          <tr class="rowsubtitle"><th class="namecolumn">Выражение</th><th class="categorydesccolumn">Описание</th></tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">%LQt</div></td>
            <td class="hintcell">Полные имена выделенных в целевой (неактивной) панели файлов, заключённые в кавычки</td>
          </tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">%FUs</div></td>
            <td class="hintcell">Только имена выделенных в активной панели файлов, список в кодировке UTF-8</td>
          </tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">%RQW</div></td>
            <td class="hintcell">Имена файлов активной панели (по умолчанию) с относительным путём, в кавычках, список в кодировке UTF-16 LE</td>
          </tr>
        </table>
        <p class="navback"><a href="#topofpage">(наверх)</a></p>
      </div>

      <div>
        <h2><a name="executeterm">12. Запуск в терминале</a></h2>
        <p>В параметрах вы можете указать, что команду необходимо выполнить в терминале.</p>
        <p>Для этого используется переменная <code>%t</code>.</p>
        <table>
          <tr class="rowcategorytitle"><th colspan="2">Запуск в терминале</th></tr>
          <tr class="rowsubtitle"><th class="namecolumn">Выражение</th><th class="categorydesccolumn">Описание</th></tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">%t0</div></td>
            <td class="hintcell">Запустить в терминале и закрыть его после завершения</td>
          </tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">%t1</div></td>
            <td class="hintcell">Запустить в терминале и оставить его открытым</td>
          </tr>
        </table>
        <p class="navback"><a href="#topofpage">(наверх)</a></p>
      </div>

      <div>
        <h2><a name="interaction">13. Взаимодействие</a></h2>
        <p>Существуют две переменные: одна показывает окно сообщения, вторая&nbsp;&ndash; окно запроса со значением по умолчанию, которое позволяет изменить параметр на лету.</p>
        <table>
          <tr class="rowcategorytitle"><th colspan="2">Взаимодействие</th></tr>
          <tr class="rowsubtitle"><th class="namecolumn">Выражение</th><th class="categorydesccolumn">Описание</th></tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">%[сообщение]</div></td>
            <td class="hintcell">Будет показано обычное окно сообщения с текстом между квадратными скобками</td>
          </tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">%[запрос;значение]</div></td>
            <td class="hintcell">Будет показано окно запроса ввода параметра с его значением по умолчанию</td>
          </tr>
        </table>
        <p>Пример взаимодействия:</p>
        <table>
          <tr class="rowcategorytitle"><th colspan="2">Пример взаимодействия</th></tr>
          <tr class="rowsubtitle"><th class="namecolumn">Выражение</th><th class="categorydesccolumn">Описание</th></tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">%[Убедитесь, что ThisFile.ext закрыт!]</div></td>
            <td class="hintcell">Перед выполнением действия будет показано окно с сообщением "Убедитесь, что ThisFile.ext закрыт!".</td>
          </tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">%[Введите значение ШИРИНЫ для преобразования изображения;1024]</div></td>
            <td class="hintcell">Перед выполнением действия будет показано окно с текстом "Введите значение ШИРИНЫ для преобразования изображения", в поле ввода будет вставлено значение по умолчанию, 1024. Введённое пользователем значение будет подставлено в то место строки, где добавлено выражение "%[запрос;значение]".</td>
          </tr>
        </table>
        <p class="navback"><a href="#topofpage">(наверх)</a></p>
      </div>

      <div>
        <h2><a name="miscellaneous">14. Прочие переменные</a></h2>
        <p>В этом заключительном разделе перечислены переменные, которые ещё не были представлены.</p>
        <table>
          <tr class="rowcategorytitle"><th colspan="2">Прочие переменные</th></tr>
          <tr class="rowsubtitle"><th class="namecolumn">Выражение</th><th class="categorydesccolumn">Описание</th></tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">%%</div></td>
            <td class="hintcell">Будет заменено на один символ процента %</td>
          </tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">%#</div></td>
            <td class="hintcell">С этой позиции и до конца строки вместо % указателем переменной будет символ #</td>
          </tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">#%</div></td>
            <td class="hintcell">Отмена предыдущего поведения: отсюда и до конца строки указателем переменной будет знак %</td>
          </tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">%?</div></td>
            <td class="hintcell">До выполнения будет показана вся командная строка, с развёрнутыми значениями переменных.</td>
          </tr>
        </table>
        <p><code>%%</code> обычно используется, если вам необходимо использовать символ % как есть: это не позволит Double Commander попытаться прочитать этот и последующие символы как переменную.</p>
        <p>Переменная <code>%?</code> особенно полезна в процессе создания кнопки панели инструментов, позволяя убедиться, что все переменные возвращают ожидаемое значение и строка запуска с командой и всеми параметрами получается правильной.</p>
        <p>Более того, вы можете что-то изменить в этом окне, непосредственно до запуска команды.</p>
        <p>Это особенно полезно, если вы не уверены в параметрах, передаваемых приложению.</p>
        <p>Иногда комбинация знака процента и буквы переменной может совпасть с системной переменной.</p>
        <p>Например, если вы введёте <code>%os%ot</code>, ожидая объединения имён файлов в активной и неактивной панелях, вы будете удивлены, обнаружив, что это может не работать под Windows, т.к. <code>%os%</code>&nbsp;&ndash; системная переменная, в значении которой название операционной системы.</p>
        <p>Таким образом, здесь полезно использовать <code>%#</code>: в данном случае вы можете ввести <code>%##os#ot</code>.</p>
        <p><code>%#</code> указывает DC, что с этого момента символ <code>#</code> эквивалентен символу процента, таким образом можно избежать пересечения с возможными системными переменными.</p>
        <p>Это редко необходимо, но если потребуется, вы будете рады узнать, что способ обойти существует!</p>
        <p>Далее, если потребуется, <code>#%</code> вернёт символу <code>%</code> обычное значение.</p>
        <p class="navback"><a href="#topofpage">(наверх)</a></p>
      </div>

      <div>
        <h2><a name="summaryall">15. Сводная таблица со всеми переменными</a></h2>
        <p>В этом разделе нет ничего нового, однако для удобства все переменные сведены в одну таблицу.</p>
        <table>
          <tr class="rowcategorytitle"><th colspan="2">Сводная таблица</th></tr>
          <tr class="rowsubtitle"><th class="namecolumn">Выражение</th><th class="categorydesccolumn">Описание</th></tr>
          <tr><td class="varcell"><div class="firstcolumnaleft">%p</div></td><td class="hintcell">полное, включая путь, имя файла</td></tr>
          <tr><td class="varcell"><div class="firstcolumnaleft">%f</div></td><td class="hintcell">имя файла, с расширением</td></tr>
          <tr><td class="varcell"><div class="firstcolumnaleft">%d</div></td><td class="hintcell">путь</td></tr>
          <tr><td class="varcell"><div class="firstcolumnaleft">%z</div></td><td class="hintcell">последняя папка в пути</td></tr>
          <tr><td class="varcell"><div class="firstcolumnaleft">%o</div></td><td class="hintcell">имя файла без расширения</td></tr>
          <tr><td class="varcell"><div class="firstcolumnaleft">%e</div></td><td class="hintcell">расширение файла без точки</td></tr>
          <tr><td class="varcell"><div class="firstcolumnaleft">%v</div></td><td class="hintcell">имя файла с путём, относительным к каталогу активной панели</td></tr>
          <tr><td class="varcell"><div class="firstcolumnaleft">s</div></td><td class="hintcell">суффикс для исходной (активной) панели (пример: %ps)</td></tr>
          <tr><td class="varcell"><div class="firstcolumnaleft">t</div></td><td class="hintcell">суффикс для целевой (неактивной) панели (пример: %pt)</td></tr>
          <tr><td class="varcell"><div class="firstcolumnaleft">l</div></td><td class="hintcell">суффикс для левой панели (пример: %pl)</td></tr>
          <tr><td class="varcell"><div class="firstcolumnaleft">r</div></td><td class="hintcell">суффикс для правой панели (пример: %pr)</td></tr>
          <tr><td class="varcell"><div class="firstcolumnaleft">p</div></td><td class="hintcell">суффикс для обеих панелей, активная первая, неактивная вторая (пример: %pp)</td></tr>
          <tr><td class="varcell"><div class="firstcolumnaleft">b</div></td><td class="hintcell">суффикс для обеих панелей, левая первая, правая вторая (пример: %pb)</td></tr>
          <tr><td class="varcell"><div class="firstcolumnaleft">0</div></td><td class="hintcell">файл под курсором (пример: %ps0</td></tr>
          <tr><td class="varcell"><div class="firstcolumnaleft">1</div></td><td class="hintcell">первый выделенный файл (пример: %ps1)</td></tr>
          <tr><td class="varcell"><div class="firstcolumnaleft">2</div></td><td class="hintcell">второй выделенный файл, если есть (пример: %ps2)</td></tr>
          <tr><td class="varcell"><div class="firstcolumnaleft">3</div></td><td class="hintcell">третий выделенный файл, если есть (пример: %ps3)</td></tr>
          <tr><td class="varcell"><div class="firstcolumnaleft">21</div></td><td class="hintcell">двадцать первый выделенный файл, если есть (пример: %ps21)</td></tr>
          <tr><td class="varcell"><div class="firstcolumnaleft">{префикс}</div></td><td class="hintcell">префикс, добавляемый перед именем файла (пример: %f{+})</td></tr>
          <tr><td class="varcell"><div class="firstcolumnaleft">{префикс}{суффикс}</div></td><td class="hintcell">префикс и суффикс, добавляемые перед и после имени файла (пример: %f{[}{]})</td></tr>
          <tr><td class="varcell"><div class="firstcolumnaleft">%D</div></td><td class="hintcell">по умолчанию путь активной (исходной) панели</td></tr>
          <tr><td class="varcell"><div class="firstcolumnaleft">%Ds</div></td><td class="hintcell">путь активной (исходной) панели</td></tr>
          <tr><td class="varcell"><div class="firstcolumnaleft">%Dt</div></td><td class="hintcell">путь неактивной (целевой) панели</td></tr>
          <tr><td class="varcell"><div class="firstcolumnaleft">%Dl</div></td><td class="hintcell">путь левой панели, независимо от того, какая активна</td></tr>
          <tr><td class="varcell"><div class="firstcolumnaleft">%Dr</div></td><td class="hintcell">путь правой панели, независимо от того, какая активна</td></tr>
          <tr><td class="varcell"><div class="firstcolumnaleft">%Z</div></td><td class="hintcell">по умолчанию имя последней папки в пути активной (исходной) панели</td></tr>
          <tr><td class="varcell"><div class="firstcolumnaleft">%Zs</div></td><td class="hintcell">имя последней папки в пути активной (исходной) панели</td></tr>
          <tr><td class="varcell"><div class="firstcolumnaleft">%Zt</div></td><td class="hintcell">имя последней папки в пути неактивной (целевой) панели</td></tr>
          <tr><td class="varcell"><div class="firstcolumnaleft">%Zl</div></td><td class="hintcell">имя последней папки в пути левой панели, независимо от того, какая активна</td></tr>
          <tr><td class="varcell"><div class="firstcolumnaleft">%Zr</div></td><td class="hintcell">имя последней папки в пути правой панели, независимо от того, какая активна</td></tr>
          <tr><td class="varcell"><div class="firstcolumnaleft">%"0</div></td><td class="hintcell">с этого места не расставлять кавычки автоматически</td></tr>
          <tr><td class="varcell"><div class="firstcolumnaleft">%"1</div></td><td class="hintcell">с этого места автоматически расставлять кавычки</td></tr>
          <tr><td class="varcell"><div class="firstcolumnaleft">%"</div></td><td class="hintcell">восстанавливает поведение по умолчанию (автоматически расставлять кавычки)</td></tr>
          <tr><td class="varcell"><div class="firstcolumnaleft">%/0</div></td><td class="hintcell">путь без разделителя каталогов в конце (по умолчанию)</td></tr>
          <tr><td class="varcell"><div class="firstcolumnaleft">%/1</div></td><td class="hintcell">путь с разделителем каталогов в конце</td></tr>
          <tr><td class="varcell"><div class="firstcolumnaleft">%/</div></td><td class="hintcell">восстанавливает поведение по умолчанию (без разделителя каталогов в конце)</td></tr>
          <tr><td class="varcell"><div class="firstcolumnaleft">%L</div></td><td class="hintcell">файл со списком выделенных файлов с полными именами (путь + имя файла)</td></tr>
          <tr><td class="varcell"><div class="firstcolumnaleft">%F</div></td><td class="hintcell">файл со списком только имён выделенных файлов</td></tr>
          <tr><td class="varcell"><div class="firstcolumnaleft">%R</div></td><td class="hintcell">файл со списком выделенных файлов с относительным путём</td></tr>
          <tr><td class="varcell"><div class="firstcolumnaleft">Q</div></td><td class="hintcell">суффикс для %L, %F или %R: взять имена файлов в кавычки</td></tr>
          <tr><td class="varcell"><div class="firstcolumnaleft">U</div></td><td class="hintcell">суффикс для %L, %F или %R: список в кодировке UTF-8</td></tr>
          <tr><td class="varcell"><div class="firstcolumnaleft">W</div></td><td class="hintcell">суффикс для %L, %F или %R: список в кодировке UTF-16 LE</td></tr>
          <tr><td class="varcell"><div class="firstcolumnaleft">%t0</div></td><td class="hintcell">запустить в терминале и закрыть его после завершения</td></tr>
          <tr><td class="varcell"><div class="firstcolumnaleft">%t1</div></td><td class="hintcell">запустить в терминале и оставить его открытым</td></tr>
          <tr><td class="varcell"><div class="firstcolumnaleft">%[сообщение]</div></td><td class="hintcell">показать окно сообщения с текстом из квадратных скобок</td></tr>
          <tr><td class="varcell"><div class="firstcolumnaleft">%[запрос;значение]</div></td><td class="hintcell">показать окно запроса ввода параметра с его значением по умолчанию</td></tr>
          <tr><td class="varcell"><div class="firstcolumnaleft">%%</div></td><td class="hintcell">будет заменено на символ %</td></tr>
          <tr><td class="varcell"><div class="firstcolumnaleft">%#</div></td><td class="hintcell">с этой позиции символ # будет обрабатываться как символ %</td></tr>
          <tr><td class="varcell"><div class="firstcolumnaleft">#%</div></td><td class="hintcell">отмена предыдущего поведения, символ % будет обрабатываться как префикс переменной</td></tr>
          <tr><td class="varcell"><div class="firstcolumnaleft">%?</div></td><td class="hintcell">показать командную строку перед выполнением</td></tr>
        </table>
        <p class="navback"><a href="#topofpage">(наверх)</a></p>
      </div>

      <div>
        <h2><a name="envvariables">16. Переменные окружения</a></h2>
        <p>Мы можем использовать переменные окружения в настройках Double Commander: в именах исполняемых файлов и значков на панели инструментов, именах плагинов, в избранных каталогах и т.д. Это удобный способ указать путь, если мы не хотим использовать абсолютные пути.</p>
        <p>Double Commander поддерживает системные переменные окружения и предоставляет несколько собственных переменных окружения:</p>
        <table>
          <tr class="rowcategorytitle"><th colspan="2">Переменные окружения</th></tr>
          <tr class="rowsubtitle"><th class="namecolumn">Переменная</th><th class="categorydesccolumn">Описание</th></tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">%COMMANDER_EXE%</div></td>
            <td class="hintcell">Полное имя (путь + имя файла) исполняемого файла Double Commander (символьная ссылка будет заменена на реальный файл)</td>
          </tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">%COMMANDER_PATH%</div></td>
            <td class="hintcell">Каталог, в котором расположен исполняемый файл Double Commander</td>
          </tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">%COMMANDER_DRIVE%</div></td>
            <td class="hintcell">Диск, на котором расположена папка Double Commander:<br>- Windows: буква диска (с двоеточием);<br>- Unix-подобные системы: точка монтирования.</td>
          </tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">%COMMANDER_INI%</div></td>
            <td class="hintcell">Полное имя (путь + имя файла) основного файла конфигурации (<tt>doublecmd.xml</tt>)</td>
          </tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">%COMMANDER_INI_PATH%</div></td>
            <td class="hintcell">Каталог, в котором расположены файлы конфигурации Double Commander.</td>
          </tr>
          <tr>
            <td class="varcell"><div class="firstcolumnaleft">%DC_CONFIG_PATH%</div></td>
            <td class="hintcell">Каталог, в котором расположены файлы конфигурации Double Commander.</td>
          </tr>
        </table>
        <p>Имена переменных <code>%COMMANDER_PATH%</code> и <code>%DC_CONFIG_PATH%</code> не чувствительны к регистру и мы можем использовать символ процента <code>%</code> независимо от семейства операционной системы (для обратной совместимости, это удобно для кроссплатформенного приложения). Тем не менее, в Unix-подобных системах имена переменных окружения регистрозависимы и для них традиционно используется верхний регистр, поэтому использование традиционного написания может быть хорошей привычкой.</p>
        <p>В Windows дополнительно мы можем использовать псевдопеременные окружения в формате <code>%$Имя%</code>, которые соответствуют стандартным системным папкам Windows (для получения значений Double Commander использует функции <tt>SHGetSpecialFolderPath</tt> и <tt>SHGetKnownFolderPath</tt> из Windows API). Это не обычные переменные окружения и они недоступны для дочерних процессов (приложений, запущенных из Double Commander), но в остальном мы можем использовать их аналогично переменным окружения. Все эти переменные собраны в меню помощника выбора пути: справа от кнопок выбора файла или каталога находится кнопка <span class="italic">Некоторые функции для выбора подходящего пути</span> <img title="Некоторые функции для выбора подходящего пути" alt="Некоторые функции для выбора подходящего пути" src="images/imgDC/bhelper.png" width="16" height="16">, описание смотрите <a href="directoryhotlist.html#helperpath">здесь</a>.</p>
        <p>Все эти переменные добавлены в меню <a href="directoryhotlist.html">избранных каталогов</a> (подменю <span class="italic">Специальные каталоги</span>).</p>
        <p class="navback"><a href="#topofpage">(наверх)</a></p>
      </div>

      <div>
        <br>
        <p><small>Originally created by Rustem (dok_rust@bk.ru)</small></p>
      </div>
    </div>
    <div class="footer"><div class="nav"><a title="Начало" href="index.html">Начало</a> | <a title="Предыдущая страница" href="toolbar.html">Пред.</a> | <a title="Следующая страница" href="cmds.html">След.</a></div></div>
    <div class="checker">
      <a href="https://validator.w3.org/check?uri=referer" target="_blank"><img src="https://www.w3.org/Icons/valid-html40" alt="Valid HTML 4.0 Transitional" height="31" width="88"></a>
      <a href="https://jigsaw.w3.org/css-validator/check/referer" target="_blank"><img style="border:0;width:88px;height:31px" src="https://jigsaw.w3.org/css-validator/images/vcss" alt="CSS Valid!"></a>
    </div>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
  </body>
</html>
